<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">

    <title>Email Tracker</title>

    <link href="style.css" rel="stylesheet">

</head>
<body>
    <h1>Email Location Tracker</h1>
    <div class="emailHeader">
        <textarea id="emailHeader" rows="20" cols="50" placeholder="Insert email header here"></textarea>
        <button onclick="parser()">Go!</button>
    </div>
    <p id="deliveredTo"></p>
    <p id="returnPath"></p>
    <p id="received"></p>
    <p id="receivedX"></p>
    <p id="date"></p>

    <script>

    function parser(){
      var emailHeader = document.getElementById("emailHeader").value;
      var headerSplitter = emailHeader.split(";");
      var j, deliveredTo, returnPath, received, receivedX, date;

      for(j = 0; j < headerSplitter.length; j++){
        if(headerSplitter[j].includes("Delivered-To")){
          deliveredTo = headerSplitter[j];
        }
        if(headerSplitter[j].includes("Return-Path")){
          returnPath = headerSplitter[j];
        }
        if(headerSplitter[j].includes("Received")){
          received = headerSplitter[j];
        }
        if(headerSplitter[j].includes("X-Received")){
          receivedX = headerSplitter[j];
        }
        if(headerSplitter[j].includes("Date")){
          date = headerSplitter[j];
        }
      }

      document.getElementById("deliveredTo").innerHTML = deliveredTo;
      document.getElementById("returnPath").innerHTML = returnPath;
      document.getElementById("received").innerHTML = received;
      document.getElementById("receivedX").innerHTML = receivedX;
      document.getElementById("date").innerHTML = date;

    }

    </script>
</body>
</html>
